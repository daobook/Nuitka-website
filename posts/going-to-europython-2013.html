<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />    <link rel="icon" href="../_static/favicon.svg" type="image/svg+xml">
    <link rel="icon" href="../_static/favicon.png" sizes="32x32" type="image/png">
    <link rel="icon" href="../_static/favicon.ico" sizes="32x32" type="image/x-icon">
    <link rel="icon" href="../_static/apple-touch-icon-iphone.png" sizes="57x57" type="image/png">
    <link rel="icon" href="../_static/apple-touch-icon-ipad.png" sizes="72x72" type="image/png">
    <link rel="icon" href="../_static/apple-touch-icon-iphone4.png" sizes="114x114" type="image/png">
    <link rel="icon" href="../_static/apple-touch-icon-ipad3.png" sizes="144x144" type="image/png">
    <link rel="apple-touch-icon" href="../_static/apple-touch-icon-180x180.png" sizes="180x180" type="image/png">

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Going to Europython 2013</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/my_theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/design-style.59c74d8c95b765a7fd995ac71d459ebe.min.css" type="text/css" />
    <link rel="canonical" href="https://nuitka.net/posts/going-to-europython-2013.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/design-tabs.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />   
<link
  rel="alternate"
  type="application/atom+xml"
  href="../blog/atom.xml"
  title="Nuitka Blog"
/>
 
<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Nuitka the Python Compiler
            <img src="../_static/Nuitka-Logo-Symbol.svg" class="logo" alt="Logo"/>
          </a><!-- Empty override file take the place of searchbox.html, which generates search box. -->
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/user-manual.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/support.html">Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Commercial Users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/commercial.html">Nuitka Commercial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html">Nuitka Release 0.6.20 (Draft)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html#nuitka-release-0-6-19">Nuitka Release 0.6.19</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html#nuitka-release-0-6-18">Nuitka Release 0.6.18</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html#older-releases">Older Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/roadmap.html">Roadmap</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/developer-manual.html">Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/api-doc.html">API doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/factory.html">Factory Instructions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Media</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pages/Presentations.html">Presentations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/Streaming.html">Streaming</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pages/impressum.html">Impressum</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Under construction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/welcome.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/pyside2.html">Nuitka PySide2 support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/donations.html">Donations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/gsoc2019.html">Google Summer of Code 2019</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Nuitka the Python Compiler</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <!-- Empty override file take the place of sphinx_rtd_theme/breadcrumbs.html, which generates the top nav breadcrumbs. -->
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
              <div class="section" id="going-to-europython-2013">
<h1><a class="toc-backref" href="#id1">Going to Europython 2013</a><a class="headerlink" href="#going-to-europython-2013" title="Permalink to this headline"></a></h1>
<p>I am going to the wonderful city of Florence, and <a class="reference external" href="https://ep2013.europython.eu/">Europython 2013</a> and make a presentation there. This
time, I am not introducing Nuitka anymore, I did that in 2012, this
time, I will try and dive into static optimization and try to convey the
message why I believe it is possible.</p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#going-to-europython-2013" id="id1">Going to Europython 2013</a></p>
<ul>
<li><p><a class="reference internal" href="#things-to-talk-about" id="id2">Things to talk about</a></p>
<ul>
<li><p><a class="reference internal" href="#status" id="id3">Status</a></p></li>
<li><p><a class="reference internal" href="#last-years-questions" id="id4">Last years questions</a></p>
<ul>
<li><p><a class="reference internal" href="#builtins" id="id5">Builtins</a></p></li>
<li><p><a class="reference internal" href="#debugger-pdb" id="id6">Debugger - pdb</a></p></li>
<li><p><a class="reference internal" href="#threading" id="id7">Threading</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#c-to-python-gaps" id="id8">C++ to Python gaps</a></p></li>
<li><p><a class="reference internal" href="#performance" id="id9">Performance</a></p></li>
<li><p><a class="reference internal" href="#demos" id="id10">Demos</a></p></li>
<li><p><a class="reference internal" href="#future-work" id="id11">Future Work</a></p>
<ul>
<li><p><a class="reference internal" href="#ssa" id="id12">SSA</a></p></li>
<li><p><a class="reference internal" href="#compiled-modules" id="id13">Compiled Modules</a></p></li>
<li><p><a class="reference internal" href="#compiled-locals" id="id14">Compiled Locals</a></p></li>
<li><p><a class="reference internal" href="#whole-program-analysis" id="id15">Whole Program Analysis</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#perspective" id="id16">Perspective</a></p></li>
<li><p><a class="reference internal" href="#funding" id="id17">Funding</a></p></li>
<li><p><a class="reference internal" href="#final-picture" id="id18">Final Picture</a></p></li>
<li><p><a class="reference internal" href="#final-words" id="id19">Final Words</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="things-to-talk-about">
<h2><a class="toc-backref" href="#id2">Things to talk about</a><a class="headerlink" href="#things-to-talk-about" title="Permalink to this headline"></a></h2>
<div class="section" id="status">
<h3><a class="toc-backref" href="#id3">Status</a><a class="headerlink" href="#status" title="Permalink to this headline"></a></h3>
<p>Only briefly this time, since I will be able to say that all current
Python versions are fully supported (<a class="reference external" href="nuitka-needs-you-a-call-for-help.html">surely if you help me with
Python3.3 yield from</a>), all
major platforms now. One important milestone has been reached meanwhile,
and work on far reaching compile time optimizations is happening. As
this should be quite obvious stuff, I am going to keep that short.</p>
<p>What I would like to get done until then:</p>
<ul>
<li><p>Win64</p>
<p>One remaining area of work to achieve Win64 support, which is almost
complete. I epxect one of the next releases to support it.</p>
</li>
<li><p>Threading</p>
<p>And of course there is threading, which was the one real major
weakness present last time, which appears only short of pronouncing
break-through. At least one user is using Nuitka with many threads
operationally already. I just have to re-activate the thread using
tests CPython that I disabled. Seems I only have to convince myself
of it too.</p>
<p>Since it’s not totally a priority right now, one of the next releases
will support it, likely before the conference.</p>
</li>
</ul>
<p>But as you see. Completion all around is there or at least in sight.
Kind of worked on this nearby.</p>
</div>
<div class="section" id="last-years-questions">
<h3><a class="toc-backref" href="#id4">Last years questions</a><a class="headerlink" href="#last-years-questions" title="Permalink to this headline"></a></h3>
<div class="section" id="builtins">
<h4><a class="toc-backref" href="#id5">Builtins</a><a class="headerlink" href="#builtins" title="Permalink to this headline"></a></h4>
<p>For instance, writing to built-ins, what will/did happen.</p>
<p>Changing builtins can be done in two ways. One is to set the value on
the module level, which is something that has always worked. The other
is writing to <code class="docutils literal notranslate"><span class="pre">builtins</span></code> module.</p>
<p>This is something that is OK for Nuitka in some cases (<code class="docutils literal notranslate"><span class="pre">__import__</span></code>,
<code class="docutils literal notranslate"><span class="pre">open</span></code> ) and handled by it at run time. And it’s not effective in
others (<code class="docutils literal notranslate"><span class="pre">len</span></code>, <code class="docutils literal notranslate"><span class="pre">str</span></code>).</p>
<p>Good news is that we got contributed a “compiled built-ins” code, where
we now will be able to see such writes. Now it’s only used to not check
every time for changes, but to know them (pull vs. push). But we will
also use it and trigger <code class="docutils literal notranslate"><span class="pre">RuntimeError</span></code> exceptions for things we cannot
handle when we only learn of it at run time.</p>
<p>The other element to address is, it of course whole program analysis.
When Nuitka sees the write to <code class="docutils literal notranslate"><span class="pre">builtins.str</span></code>, it may very well
consider it. The distinction between initial and current builtin values,
and the optimization of it, that will be interesting to cover.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently Nuitka does nothing of this, but it will.</p>
</div>
</div>
<div class="section" id="debugger-pdb">
<h4><a class="toc-backref" href="#id6">Debugger - pdb</a><a class="headerlink" href="#debugger-pdb" title="Permalink to this headline"></a></h4>
<p>The compiled binaries work the same as the normal Python code. So you
will be able to simply use <code class="docutils literal notranslate"><span class="pre">pdb</span></code> on it instead.</p>
<p>Interacting with <code class="docutils literal notranslate"><span class="pre">pdb</span></code> is not <em>totally</em> out of reach, but kind of
pointless mostly, unless you need to attach to long running operational
programs. For now that use case is not supported though.</p>
</div>
<div class="section" id="threading">
<h4><a class="toc-backref" href="#id7">Threading</a><a class="headerlink" href="#threading" title="Permalink to this headline"></a></h4>
<p>I learned a whole lot about threading. Also thanks to the kind people of
Stackless Python, who explained things to me. I am still amazed at how
little I did know of these things, and still went so far. In my
industry, threads are considered not allowed, and I personally don’t
like them either, so my experience was non-existing.</p>
<p>But in the mean time, I managed to come up with ideas that appear to
work, and if I implement the full design, it will even be more efficient
than anything.</p>
</div>
</div>
<div class="section" id="c-to-python-gaps">
<h3><a class="toc-backref" href="#id8">C++ to Python gaps</a><a class="headerlink" href="#c-to-python-gaps" title="Permalink to this headline"></a></h3>
<p>I consider all of these more or less solved.</p>
<p>Well maybe except recently arose issues with MSVC for “function calls”.
It appears that compiler highlights a weakness in one of my approaches.
Nuitka so far only changed the order of declaration and call arguments
around, which is kind of transparent.</p>
<p>But MSVC actively takes liberty to calculate function arguments as it
sees fit. The fix for it, is now totally different and should be highly
portable and even compliant to C++.</p>
</div>
<div class="section" id="performance">
<h3><a class="toc-backref" href="#id9">Performance</a><a class="headerlink" href="#performance" title="Permalink to this headline"></a></h3>
<p>There are still slow exceptions. I would like to avoid raising C++
exceptions in the future, because they are so slow (Python exceptions
are much faster).</p>
<p>And diagrams, I would like to have a whole lot more of these. Since I
dropped speedcenter, I am making actual progress there. I hope to have
enough to show at the conference, where the actual strength and weakness
currently is.</p>
<p>Since I am getting closer to pronouncing Nuitka useful. I surely
believe, I need to answer the performance question in larger detail. And
of course, I need now a better idea, what impact measures have.</p>
<p>But as this is a lot of work, I doubt that I will be all that perfect by
then, my goal is to have a comparison with Shedskin. No matter how
unfair it is (Shedskin does only a small subset of Python), it’s the
most useful comparison in my eyes, as where Shedskin makes static type
analysis, Nuitka also should do it, only hampered by guards at maximum.</p>
</div>
<div class="section" id="demos">
<h3><a class="toc-backref" href="#id10">Demos</a><a class="headerlink" href="#demos" title="Permalink to this headline"></a></h3>
<p>The talk with start out with demonstration of Nuitka, something simple
first, and then Mercurial as a more complex example, and then its test
suite.</p>
<p>And I will show portable binaries. It seems to work quite nicely.
Generally I expect to start out with demos, and explain from there,
instead of having a demo only at the end.</p>
<p>If it all works out, this time, they will be prepared with
<code class="docutils literal notranslate"><span class="pre">recordmydesktop</span></code> so I can publish them separately too.</p>
</div>
<div class="section" id="future-work">
<h3><a class="toc-backref" href="#id11">Future Work</a><a class="headerlink" href="#future-work" title="Permalink to this headline"></a></h3>
<p>Generally the talk will be more directed at the future, although this is
kind of a dark area now. That’s its nature I guess.</p>
<div class="section" id="ssa">
<h4><a class="toc-backref" href="#id12">SSA</a><a class="headerlink" href="#ssa" title="Permalink to this headline"></a></h4>
<p>The talk will also be largely built SSA (static single assignment) and
how it applies to Python. What everybody means, when they say “Python is
too dynamic (to be statically compiled)” is that Python values may
escape to unknown code that changes them very often.</p>
<p>I will have to talk about that, and how get out of that trap, basically
guards, much like PyPy does it too. Escaped values and strange code are
only one option of things to occur. Having code for both cases, sounds
possible. I will talk about how to decide, which branches we shall have
and which not.</p>
</div>
<div class="section" id="compiled-modules">
<h4><a class="toc-backref" href="#id13">Compiled Modules</a><a class="headerlink" href="#compiled-modules" title="Permalink to this headline"></a></h4>
<p>And I believe with “compiled modules” potentially already in place, we
can achieve very cheap guards in most cases. I can at least explain, why
guards can be relatively cheap, where we need them.</p>
<p>I am kind of bugged by that idea. It kind of means to revisit an older
milestone, but now an idea has surfaced, that I previously didn’t have,
and that I am very curious to learn the benefit of. Very quick <em>and</em>
safe module variabls, are very tempting to have, and definitely make a
difference for the Nuitka design.</p>
</div>
<div class="section" id="compiled-locals">
<h4><a class="toc-backref" href="#id14">Compiled Locals</a><a class="headerlink" href="#compiled-locals" title="Permalink to this headline"></a></h4>
<p>Who knows, we might even have a “compiled locals” as well, which as a
side effect, also allows total interactivity with the most absurd codes.
So far, each local variable is a C++ object, and as this is compiled,
and very fast.</p>
<p>But the frame locals is not in sync with it. Were it a special object,
it could try and interact with these when control escapes to code that
we don’t know if it might use it.</p>
</div>
<div class="section" id="whole-program-analysis">
<h4><a class="toc-backref" href="#id15">Whole Program Analysis</a><a class="headerlink" href="#whole-program-analysis" title="Permalink to this headline"></a></h4>
<p>Big words. Can Nuitka avoid module objects entirely. Can it inline
functions, specialize them according to the only types used (think
including <code class="docutils literal notranslate"><span class="pre">os.path.dirname</span></code> in the binary, but with the constraint
that it only need to work on string objects as input, because the
program is known to use it any different.</p>
</div>
</div>
</div>
<div class="section" id="perspective">
<h2><a class="toc-backref" href="#id16">Perspective</a><a class="headerlink" href="#perspective" title="Permalink to this headline"></a></h2>
<p>Last time, I spent a lot of time on justification, “why a new project?”,
“why not work with the others?”, what goals do I have that others do
not. Giving examples of how code generation works. Generally to give
people an idea of the project.</p>
<p>With this out of the way, I can now focus on inclusion, and success.</p>
</div>
<div class="section" id="funding">
<h2><a class="toc-backref" href="#id17">Funding</a><a class="headerlink" href="#funding" title="Permalink to this headline"></a></h2>
<p>And, well yes, this time I may not have to pay for it all by myself.
Last time I spent close to 1000 Euros for the trip (ticket to enter,
hotel, flight, food), because I am <a class="reference external" href="/pages/donations.html">accepting donations</a> for this specific reason.</p>
<p>For a strange reason, I devote substantial amounts of time to the
project, only to put it under the most liberal license. It’s probably
fair to allow people to <a class="reference external" href="/pages/donations.html">make donations</a> if
they feel they want to further the project, but don’t know how. Or if
they just consider it too important for me to loose interest. That kind
of feels unlikely though. Too much fun.</p>
</div>
<div class="section" id="final-picture">
<h2><a class="toc-backref" href="#id18">Final Picture</a><a class="headerlink" href="#final-picture" title="Permalink to this headline"></a></h2>
<p>And lets have an image I made during Europython 2012 in the city of
Florence. It shows what a vibrant place this town is.</p>
<img alt="../_images/europython-2012-07-img6319.jpg" src="../_images/europython-2012-07-img6319.jpg" />
<p>Florence is a place full of kind people. The mood not only of the
conference, but the whole city is very open minded and helpful. It was
very easy to get adopted by strangers to their party.</p>
</div>
<div class="section" id="final-words">
<h2><a class="toc-backref" href="#id19">Final Words</a><a class="headerlink" href="#final-words" title="Permalink to this headline"></a></h2>
<p>I am looking forward to meeting the friends I made there last time, and
new friends. I kind of a great time there last time, one of these “times
of my life”. Even if the reception was not always as warm as I had
deserved. I remember laughing a lot, learning a lot. And making unique
experiences.</p>
</div>
</div>

<div class="section">
    

<div class="section">
  <span style="float: left">
     Previous:
    
    <a href="support-for-msvc-upcoming.html">
       Support for MSVC upcoming
    </a>
    
  </span>
  <span>&nbsp;</span>
  <span style="float: right">
     Next: 
    <a href="nuitka-on-github-bitbucket-and-gitorious.html">
      Nuitka on Github, Bitbucket and Gitorious 
    </a>
    
  </span>
</div>
  
</div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Kay Hayen and Nuitka Contributors.</p>
  </div>

  
<div class='share-button-container'>
    <div class="socialbutton-wrapper">
        <a href="https://twitter.com/share?url=https://nuitka.net/posts/going-to-europython-2013.html&hashtags=nuitka" target="_blank">
            <div class="socialbutton twitter" data-share-url="https://nuitka.net">
                <p class="icon">
                    <img src="/_static/icon-twitter.png">
                </p>

                <p class="shares">share...</p>
            </div>
        </a>

        <a href="https://www.facebook.com/sharer.php?u=https://nuitka.net/posts/going-to-europython-2013.html&hashtag=%23nuitka"  target="_blank">
            <div class="socialbutton facebook" data-share-url="https://nuitka.net">
                <p class="icon">
                    <img src="/_static/icon-facebook.png">
                </p>

                <p class="shares">share...</p>
            </div>
        </a>

        <a href="http://www.reddit.com/submit?url=https://nuitka.net/posts/going-to-europython-2013.html" target="_blank">
            <div class="socialbutton reddit">
                <p class="icon">
                    <img src="/_static/icon-reddit.png">
                </p>

                <p class="shares">share...</p>
            </div>
        </a>
    </div>
</div>



</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>