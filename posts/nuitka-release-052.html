<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />    <link rel="icon" href="../_static/favicon.svg" type="image/svg+xml">
    <link rel="icon" href="../_static/favicon.png" sizes="32x32" type="image/png">
    <link rel="icon" href="../_static/favicon.ico" sizes="32x32" type="image/x-icon">
    <link rel="icon" href="../_static/apple-touch-icon-iphone.png" sizes="57x57" type="image/png">
    <link rel="icon" href="../_static/apple-touch-icon-ipad.png" sizes="72x72" type="image/png">
    <link rel="icon" href="../_static/apple-touch-icon-iphone4.png" sizes="114x114" type="image/png">
    <link rel="icon" href="../_static/apple-touch-icon-ipad3.png" sizes="144x144" type="image/png">
    <link rel="apple-touch-icon" href="../_static/apple-touch-icon-180x180.png" sizes="180x180" type="image/png">

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nuitka Release 0.5.2</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/my_theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/design-style.59c74d8c95b765a7fd995ac71d459ebe.min.css" type="text/css" />
    <link rel="canonical" href="https://nuitka.net/posts/nuitka-release-052.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/design-tabs.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />   
<link
  rel="alternate"
  type="application/atom+xml"
  href="../blog/atom.xml"
  title="Nuitka Blog"
/>
 
<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Nuitka the Python Compiler
            <img src="../_static/Nuitka-Logo-Symbol.svg" class="logo" alt="Logo"/>
          </a><!-- Empty override file take the place of searchbox.html, which generates search box. -->
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/user-manual.html">User Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/support.html">Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Commercial Users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/commercial.html">Nuitka Commercial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html">Nuitka Release 0.6.20 (Draft)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html#nuitka-release-0-6-19">Nuitka Release 0.6.19</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html#nuitka-release-0-6-18">Nuitka Release 0.6.18</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html#older-releases">Older Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/roadmap.html">Roadmap</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/developer-manual.html">Developer Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/api-doc.html">API doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/factory.html">Factory Instructions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Media</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pages/Presentations.html">Presentations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/Streaming.html">Streaming</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pages/impressum.html">Impressum</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Under construction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/welcome.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/pyside2.html">Nuitka PySide2 support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/donations.html">Donations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/gsoc2019.html">Google Summer of Code 2019</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Nuitka the Python Compiler</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <!-- Empty override file take the place of sphinx_rtd_theme/breadcrumbs.html, which generates the top nav breadcrumbs. -->
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
              <div class="section" id="nuitka-release-0-5-2">
<h1>Nuitka Release 0.5.2<a class="headerlink" href="#nuitka-release-0-5-2" title="Permalink to this headline"></a></h1>
<p>This is to inform you about the new stable release of <a class="reference external" href="https://nuitka.net">Nuitka</a>. It is the extremely compatible Python compiler,
<a class="reference external" href="/doc/download.html">“download now”</a>.</p>
<p>This is a major release, with huge changes to code generation that
improve performance in a significant way. It is a the result of a long
development period, and therefore contains a huge jump ahead.</p>
<div class="section" id="new-features">
<h2>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Added experimental support for Python 3.4, which is still work in
progress.</p></li>
<li><p>Added support for virtualenv on macOS.</p></li>
<li><p>Added support for virtualenv on Windows.</p></li>
<li><p>Added support for macOS X standalone mode.</p></li>
<li><p>The code generation uses no header files anymore, therefore adding a
module doesn’t invalidate all compiled object files from caches
anymore.</p></li>
<li><p>Constants code creation is now distributed, and constants referenced
in a module are declared locally. This means that changing a module
doesn’t affect the validity of other modules object files from caches
anymore.</p></li>
</ul>
</div>
<div class="section" id="optimization">
<h2>Optimization<a class="headerlink" href="#optimization" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>C-ish code generation uses less C++ classes and generates more C-like
code. Explicit temporary objects are now used for statement temporary
variables.</p></li>
<li><p>The constants creation code is no more in a single file, but
distributed across all modules, with only shared values created in a
single file. This means improved scalability. There are remaining bad
modules, but more often, standalone mode is now fast.</p></li>
<li><p>Exception handling no longer uses C++ exception, therefore has become
much faster.</p></li>
<li><p>Loops that only break are eliminated.</p></li>
<li><p>Dead code after loops that do not break is now removed.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">try</span></code>/<code class="docutils literal notranslate"><span class="pre">finally</span></code> and <code class="docutils literal notranslate"><span class="pre">try</span></code>/<code class="docutils literal notranslate"><span class="pre">except</span></code> constructs are now
eliminated, where that is possible.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">try</span></code>/<code class="docutils literal notranslate"><span class="pre">finally</span></code> part of the re-formulation for <code class="docutils literal notranslate"><span class="pre">print</span></code>
statements is now only done when printing to a file, avoiding useless
node tree bloat.</p></li>
<li><p>Tuples and lists are now generated with faster code.</p></li>
<li><p>Locals and global variables are now access with more direct code.</p></li>
<li><p>Added support for the anonymous <code class="docutils literal notranslate"><span class="pre">code</span></code> type built-in.</p></li>
<li><p>Added support for <code class="docutils literal notranslate"><span class="pre">compile</span></code> built-in.</p></li>
<li><p>Generators that statically return immediately, e.g. due to
optimization results, are no longer using frame objects.</p></li>
<li><p>The complex call helpers use no pseudo frames anymore. Previous code
generation required to have them, but with C-ish code generation that
is no more necessary, speeding up those kind of calls.</p></li>
<li><p>Modules with only code that cannot raise, need not have a frame
created for them. This avoids useless code size bloat because of
them. Previously the frame stack entry was mandatory.</p></li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h2>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Windows: The resource files were cached by Scons and re-used, even if
the input changed. The could lead to corrupted incremental builds.
Fixed in 0.5.1.1 already.</p></li>
<li><p>Windows: For functions with too many local variables, the MSVC failed
with an error “C1026: parser stack overflow, program too complex”.
The rewritten code generation doesn’t burden the compiler as much.</p></li>
<li><p>Compatibility: The timing deletion of nested call arguments was
different from C++. This shortcoming has been addressed in the
rewritten code generation.</p></li>
<li><p>Compatibility: The <code class="docutils literal notranslate"><span class="pre">__future__</span></code> flags and <code class="docutils literal notranslate"><span class="pre">CO_FREECELL</span></code> were not
present in frame flags. These were then not always properly inherited
to <code class="docutils literal notranslate"><span class="pre">eval</span></code> and <code class="docutils literal notranslate"><span class="pre">exec</span></code> in all cases.</p></li>
<li><p>Compatibility: Compiled frames for Python3 had <code class="docutils literal notranslate"><span class="pre">f_restricted</span></code>
attribute, which is Python2 only. Removed it.</p></li>
<li><p>Compatibility: The <code class="docutils literal notranslate"><span class="pre">SyntaxError</span></code> of having a <code class="docutils literal notranslate"><span class="pre">continue</span></code> in a
finally clause is now properly raised.</p></li>
<li><p>Python2: The <code class="docutils literal notranslate"><span class="pre">exec</span></code> statement with no locals argument provided, was
preventing list contractions to take closure variables.</p></li>
<li><p>Python2: Having the ASCII encoding declared in a module wasn’t
working.</p></li>
<li><p>Standalone: Included the <code class="docutils literal notranslate"><span class="pre">idna</span></code> encoding as well.</p></li>
<li><p>Standalone: For virtualenv, the file <code class="docutils literal notranslate"><span class="pre">orig-prefix.txt</span></code> needs to be
present, now it’s copied into the “dist” directory as well. Fixed in
0.5.1.1 already.</p></li>
<li><p>Windows: Handle cases, where Python and user program are installed on
different volumes.</p></li>
<li><p>Compatibility: Can now finally use <code class="docutils literal notranslate"><span class="pre">execfile</span></code> as an expression. One
of our oldest issues, no 5, is finally fixed after all this time
thanks to C-ish code generation.</p></li>
<li><p>Compatibility: The order or call arguments deletion is now finally
compatible. This too is thanks to C-ish code generation.</p></li>
<li><p>Compatibility: Code object flags are now more compatible for Python3.</p></li>
<li><p>Standalone: Removing “rpath” settings of shared libraries and
extension modules included. This makes standalone binaries more
robust on Fedora 20.</p></li>
<li><p>Python2: Wasn’t falsely rejecting <code class="docutils literal notranslate"><span class="pre">unicode</span></code> strings as values for
<code class="docutils literal notranslate"><span class="pre">int</span></code> and <code class="docutils literal notranslate"><span class="pre">long</span></code> variants with base argument provided.</p></li>
<li><p>Windows: For Python3.2 and 64 bits, global variable accesses could
give false <code class="docutils literal notranslate"><span class="pre">NameError</span></code> exceptions. Fixed in 0.5.1.6 already.</p></li>
<li><p>Compatibility: Many <code class="docutils literal notranslate"><span class="pre">exec</span></code> and <code class="docutils literal notranslate"><span class="pre">eval</span></code> details have become more
correctly, the argument handling is more compatible, and e.g. future
flags are now passed along properly.</p></li>
<li><p>Compatibility: Using <code class="docutils literal notranslate"><span class="pre">open</span></code> with no arguments is now giving the
same error.</p></li>
</ul>
</div>
<div class="section" id="organisational">
<h2>Organisational<a class="headerlink" href="#organisational" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Replying to email from the issue tracker works now.</p></li>
<li><p>Added option name alias <code class="docutils literal notranslate"><span class="pre">--xml</span></code> for <code class="docutils literal notranslate"><span class="pre">--dump-xml</span></code>.</p></li>
<li><p>Added option name alias <code class="docutils literal notranslate"><span class="pre">--python-dbg</span></code> for <code class="docutils literal notranslate"><span class="pre">--python-debug</span></code>,
which actually might make it a bit more clear that it is about using
the CPython debug run time.</p></li>
<li><p>Remove option <code class="docutils literal notranslate"><span class="pre">--dump-tree</span></code>, it had been broken for a long time and
unused in favor of XML dumps.</p></li>
<li><p>New digital art folder with 3D version of Nuitka logo. Thanks to Juan
Carlos for creating it.</p></li>
<li><p>Using “README.rst” instead of “README.txt” to make it look better on
web pages.</p></li>
<li><p>More complete whitelisting of missing imports in standard library.
These should give no warnings anymore.</p></li>
<li><p>Updated the Nuitka GUI to the latest version, with enhanced features.</p></li>
<li><p>The builds of releases and update of the <a class="reference external" href="https://nuitka.net/doc/download.html">downloads page</a> is now driven by Buildbot.
Page will be automatically updated as updated binaries arrive.</p></li>
</ul>
</div>
<div class="section" id="cleanups">
<h2>Cleanups<a class="headerlink" href="#cleanups" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Temporary keeper variables and the nodes to handle them are now
unified with normal temporary variables, greatly simplifying variable
handling on that level.</p></li>
<li><p>Less code is coming from templates, more is actually derived from the
node tree instead.</p></li>
<li><p>Releasing the references to temporary variables is now always
explicit in the node tree.</p></li>
<li><p>The publishing and preservation of exceptions in frames was turned
into explicit nodes.</p></li>
<li><p>Exception handling is now done with a single handle that checks with
branches on the exception. This eliminates exception handler nodes.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">dir</span></code> built-in with no arguments is now re-formulated to
<code class="docutils literal notranslate"><span class="pre">locals</span></code> or <code class="docutils literal notranslate"><span class="pre">globals</span></code> with their <code class="docutils literal notranslate"><span class="pre">.keys()</span></code> attribute taken.</p></li>
<li><p>Dramatic amounts of cleanups to code generation specialities, that
got done right for the new C-ish code generation.</p></li>
</ul>
</div>
<div class="section" id="new-tests">
<h2>New Tests<a class="headerlink" href="#new-tests" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Warnings from MSVC are now error exits for <code class="docutils literal notranslate"><span class="pre">--debug</span></code> mode too,
expanding the coverage of these tests.</p></li>
<li><p>The outputs with <code class="docutils literal notranslate"><span class="pre">python-dbg</span></code> can now also be compared, allowing to
expand test coverage for reference counts.</p></li>
<li><p>Many of the basic tests are now executable with Python3 directly.
This allows for easier debug.</p></li>
<li><p>The library compilation test is now also executed with Python3.</p></li>
</ul>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline"></a></h2>
<p>This release would deserve more than a minor number increase. The C-ish
code generation, is a huge body of work. In many ways, it lays ground to
taking benefit of SSA results, that previously would not have been
possible. In other ways, it’s incomplete in not yet taking full
advantage yet.</p>
<p>The release contains so many improvements, that are not yet fully
realized, but as a compiler, it also reflects a stable and improved
state.</p>
<p>The important changes are about making SSA even more viable. Many of the
problematic cases, e.g. exception handlers, have been stream lined. A
whole class of variables, temporary keepers, has been eliminated. This
is big news in this domain.</p>
<p>For the standalone users, there are lots of refinements. There is esp. a
lot of work to create code that doesn’t show scalability issues. While
some remain, the most important problems have been dealt with. Others
are still in the pipeline.</p>
<p>More work will be needed to take full advantage. This has been explained
in a <a class="reference external" href="https://nuitka.net/posts/state-of-nuitka.html">separate post</a>
in greater detail.</p>
</div>
</div>

<div class="section">
    

<div class="section">
  <span style="float: left">
     Previous:
    
    <a href="yup-another-python-riddle.html">
       Yup, another Python Quiz
    </a>
    
  </span>
  <span>&nbsp;</span>
  <span style="float: right">
     Next: 
    <a href="nuitka-release-053.html">
      Nuitka Release 0.5.3 
    </a>
    
  </span>
</div>
  
</div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Kay Hayen and Nuitka Contributors.</p>
  </div>

  
<div class='share-button-container'>
    <div class="socialbutton-wrapper">
        <a href="https://twitter.com/share?url=https://nuitka.net/posts/nuitka-release-052.html&hashtags=nuitka" target="_blank">
            <div class="socialbutton twitter" data-share-url="https://nuitka.net">
                <p class="icon">
                    <img src="/_static/icon-twitter.png">
                </p>

                <p class="shares">share...</p>
            </div>
        </a>

        <a href="https://www.facebook.com/sharer.php?u=https://nuitka.net/posts/nuitka-release-052.html&hashtag=%23nuitka"  target="_blank">
            <div class="socialbutton facebook" data-share-url="https://nuitka.net">
                <p class="icon">
                    <img src="/_static/icon-facebook.png">
                </p>

                <p class="shares">share...</p>
            </div>
        </a>

        <a href="http://www.reddit.com/submit?url=https://nuitka.net/posts/nuitka-release-052.html" target="_blank">
            <div class="socialbutton reddit">
                <p class="icon">
                    <img src="/_static/icon-reddit.png">
                </p>

                <p class="shares">share...</p>
            </div>
        </a>
    </div>
</div>



</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>