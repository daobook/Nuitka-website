<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
    <link rel="icon" href="../_static/favicon.svg" type="image/svg+xml">
    <link rel="icon" href="../_static/favicon.png" sizes="32x32" type="image/png">
    <link rel="icon" href="../_static/favicon.ico" sizes="32x32" type="image/x-icon">
    <link rel="icon" href="../_static/apple-touch-icon-iphone.png" sizes="57x57" type="image/png">
    <link rel="icon" href="../_static/apple-touch-icon-ipad.png" sizes="72x72" type="image/png">
    <link rel="icon" href="../_static/apple-touch-icon-iphone4.png" sizes="114x114" type="image/png">
    <link rel="icon" href="../_static/apple-touch-icon-ipad3.png" sizes="144x144" type="image/png">
    <link rel="apple-touch-icon" href="../_static/apple-touch-icon-180x180.png" sizes="180x180" type="image/png">

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nuitka Release 0.6.8</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/tabs.css" type="text/css" />
      <link rel="stylesheet" href="../_static/asciinema-player_2.6.1.css" type="text/css" />
      <link rel="stylesheet" href="../_static/asciinema-custom.css" type="text/css" />
      <link rel="stylesheet" href="../_static/my_theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/design-style.59c74d8c95b765a7fd995ac71d459ebe.min.css" type="text/css" />
    <link rel="canonical" href="https://nuitka.net/posts/nuitka-release-068.html" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/tabs.js"></script>
        <script src="../_static/asciinema-player_2.6.1.js"></script>
        <script src="../_static/design-tabs.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />   
<link
  rel="alternate"
  type="application/atom+xml"
  href="../blog/atom.xml"
  title="Nuitka Blog"
/>
 
<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Nuitka the Python Compiler
            <img src="../_static/Nuitka-Logo-Symbol.png" class="logo" alt="Logo"/>
          </a><!-- Empty override file take the place of searchbox.html, which generates search box. -->
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/download.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../use.html">Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/support.html">Support</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Commercial Users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/commercial.html">Nuitka Commercial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Release Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html">Nuitka Release 0.6.19 (Draft)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html#nuitka-release-0-6-18">Nuitka Release 0.6.18</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html#nuitka-release-0-6-17">Nuitka Release 0.6.17</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/Changelog.html#older-releases">Older Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/roadmap.html">Roadmap</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/api-doc.html">API doc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../doc/factory.html">Factory Instructions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Media</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pages/Presentations.html">Presentations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/Streaming.html">Streaming</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../pages/impressum.html">Impressum</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Under construction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../doc/welcome.html">Welcome</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/pyside2.html">Nuitka PySide2 support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/donations.html">Donations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/gsoc2019.html">Google Summer of Code 2019</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pages/nuitka-demo.html">Nuitka Demo</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Nuitka the Python Compiler</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <!-- Empty override file take the place of sphinx_rtd_theme/breadcrumbs.html, which generates the top nav breadcrumbs. -->
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
              <section id="nuitka-release-0-6-8">
<h1>Nuitka Release 0.6.8<a class="headerlink" href="#nuitka-release-0-6-8" title="Permalink to this headline"></a></h1>
<p>This is to inform you about the new stable release of <a class="reference external" href="https://nuitka.net">Nuitka</a>. It is the extremely compatible Python compiler,
<a class="reference external" href="/doc/download.html">“download now”</a>.</p>
<p>This releases contains important general improvements and performance
improvements and enhanced optimization as well as many bug fixes that
enhance the Python 3.8 compatibility.</p>
<section id="bug-fixes">
<h2>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Python3.5+: Fix, coroutines and asyncgen could continue iteration of
awaited functions, even after their return, leading to wrong
behaviour.</p></li>
<li><p>Python3.5+: Fix, absolute imports of names might also refer to
modules and need to be handled for module loading as well.</p></li>
<li><p>Fix, the <code class="docutils literal notranslate"><span class="pre">fromlist</span></code> of imports could loose references, potentially
leading to corruption of contained strings.</p></li>
<li><p>Python3.8: Fix, positional only arguments were not enforced to
actually be that way.</p></li>
<li><p>Python3.8: Fix, complex calls with star arguments that yielded the
same value twice, were not yet caught.</p></li>
<li><p>Python3.8: Fix, evaluation order for nested dictionary contractions
was not followed yet.</p></li>
<li><p>Windows: Use short paths, these work much better to load extension
modules and TCL parts of TkInter cannot handle unicode paths at all.
This makes Nuitka work in locations, where normal Python cannot.</p></li>
<li><p>Windows: Fixup dependency walker in unicode input directories.</p></li>
<li><p>Standalone: Use frozen module loader only at <code class="docutils literal notranslate"><span class="pre">libpython</span></code>
initialisation and switch to built-in bytecode loader that is more
compatible afterwards, increasing compatibility.</p></li>
<li><p>Standalone: Fix for pydanctic support.</p></li>
<li><p>Standalone: Added missing hidden dependency of uvicorn.</p></li>
<li><p>Fix, the parser for <code class="docutils literal notranslate"><span class="pre">.pyi</span></code> files couldn’t handle multiline imports.</p></li>
<li><p>Windows: Derive linker arch of Python from running binary, since it
can happen that the Python binary is actually a script.</p></li>
<li><p>Fixup static linking with <code class="docutils literal notranslate"><span class="pre">libpython.a</span></code> that contains <code class="docutils literal notranslate"><span class="pre">main.o</span></code> by
making our colliding symbols for <code class="docutils literal notranslate"><span class="pre">Py_GetArgcArgv</span></code> weak.</p></li>
<li><p>Python3.7: Fix misdetection as asyncgen for a normal generator, if
the iterated value is async.</p></li>
<li><p>Distutils: Fix <code class="docutils literal notranslate"><span class="pre">build_nuitka</span></code> for modules under nested namespaces.</p></li>
<li><p>OpenBSD: Follow usage of clang and other corrections to make
accelerated mode work.</p></li>
<li><p>macOS: Fixup for standalone mode library scan.</p></li>
<li><p>Fix, the logging of <code class="docutils literal notranslate"><span class="pre">--show-modules</span></code> was broken.</p></li>
<li><p>Windows: Enable <code class="docutils literal notranslate"><span class="pre">/bigobj</span></code> mode for MSVC for large compilations to
work.</p></li>
<li><p>Windows: Fixup crash in warning with pefile dependency manager.</p></li>
<li><p>Windows: Fixup <code class="docutils literal notranslate"><span class="pre">win32com</span></code> standalone detection of other Python
version <code class="docutils literal notranslate"><span class="pre">win32com</span></code> is in system <code class="docutils literal notranslate"><span class="pre">PATH</span></code>.</p></li>
<li><p>Fix, the python flag for static hashes didn’t have the intended
effect.</p></li>
<li><p>Fix, generators may be resurrected in the cause of their destruction,
and then must not be released.</p></li>
<li><p>Fix, method objects didn’t implement the methods <code class="docutils literal notranslate"><span class="pre">__reduce__</span></code> and
<code class="docutils literal notranslate"><span class="pre">__reduce_ex__</span></code> necessary for pickling them.</p></li>
<li><p>Windows: Fix, using a Python installation through a symlink was not
working.</p></li>
<li><p>Windows: Fix, icon paths that were relative were not working anymore.</p></li>
<li><p>Python3.8: Detect duplicate keywords yielded from star arguments.</p></li>
<li><p>Fix, methods could not be pickled.</p></li>
<li><p>Fix, generators, coroutines and asyncgen might be resurrected during
their release, allow for that.</p></li>
<li><p>Fix, frames need to traverse their attached locals to be released in
some cases.</p></li>
</ul>
</section>
<section id="new-features">
<h2>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline"></a></h2>
<ul>
<li><p>Plugin command line handling now allows for proper <code class="docutils literal notranslate"><span class="pre">optparse</span></code>
options to be used, doing away with special parameter code for
plugins. The arguments now also become automatically passed to the
instantiations of plugins.</p>
<p>Loading and creation of plugins are now two separate phases. They are
loaded when they appear on the command line and can add options in
their own group, even required ones, but also with default values.</p>
</li>
<li><p>Started using logging with name-spaces. Applying logging per plugin
to make it easier to recognize which plugin said what. Warnings are
now colored in red.</p></li>
<li><p>Python3.5+: Added support for two step module loading, making Nuitka
loading even more compatible.</p></li>
<li><p>Enhanced import tracing to work on standalone binaries in a useful
manner, allow to compare with normal binaries.</p></li>
<li><p>Fix, the <code class="docutils literal notranslate"><span class="pre">setattr</span></code> built-in was leaking a reference to the <code class="docutils literal notranslate"><span class="pre">None</span></code>
value.</p></li>
</ul>
</section>
<section id="optimization">
<h2>Optimization<a class="headerlink" href="#optimization" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Proper loop SSA capable of detecting shapes with an incremental
initial phase and a final result of alternatives for variables
written in the loop. This detects shapes of manual integer
incrementing loops correctly now, it doesn’t see through iterators
yet, but this will come too.</p></li>
<li><p>Added type shapes for all operations and all important built-in types
to allow more compile time optimization and better target type
selection.</p></li>
<li><p>Target type code generation was expanded from manual usage with
conditions to all operations allowing to get at bool target values
more directly.</p></li>
<li><p>For in-place operations, there is the infrastructure to generate them
for improved performance, but so far it’s only used for Python2 int,
and not for the many types normal operations are supported.</p></li>
<li><p>Force usage of C boolean type for all indicator variables from the
re-formulation. In some cases, we are not yet there with detections,
and this gives instant benefit.</p></li>
<li><p>Complex constants didn’t annotate their type shape, preventing
compile time optimization for them.</p></li>
<li><p>Python3.8: Also support vectorcall for compiled method objects. These
are rarely used in new Python, but can make a difference.</p></li>
<li><p>Remove loops that have only a final break. This happens in static
optimization in some cases, and allows more optimization to be done.</p></li>
<li><p>Avoid using a preparing a constant tuple value for calls with only
constant arguments.</p></li>
<li><p>Avoid using <code class="docutils literal notranslate"><span class="pre">PyErr_Format</span></code> where it’s not necessary by adding
specialized helpers for common cases.</p></li>
<li><p>Detect <code class="docutils literal notranslate"><span class="pre">del</span></code> statements that will raise an exception and replace
with that.</p></li>
<li><p>Exception matching is boolean shape, allowing for faster code
generation.</p></li>
<li><p>Disable recursion checks outside of full compat mode.</p></li>
<li><p>Avoid large blocks for conditional statements that only need to
enclose the condition evaluation.</p></li>
<li><p>Added shortcuts for interactions between compiled generator variants,
to avoid calls to their C methods with argument passing, etc.</p></li>
</ul>
</section>
<section id="organisational">
<h2>Organisational<a class="headerlink" href="#organisational" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Updated Developer Manual with changes that happened, removing the
obsolete language choice section.</p></li>
<li><p>Added 3.8 support mentions in even more places.</p></li>
<li><p>The mailing list has been deleted. We now prefer Gitter chat and
Github issues for discussions.</p></li>
<li><p>Visual Code recommended extensions are now defined as such in the
project configuration and you will be prompted to install them.</p></li>
<li><p>Visual Code environents for <code class="docutils literal notranslate"><span class="pre">Py38</span></code> and <code class="docutils literal notranslate"><span class="pre">Py27</span></code> were added for
easier switch.</p></li>
<li><p>Catch usage of Python from the Microsoft App Store, it is not
supported and seems to limit access to the Python installation for
security reasons that make support impossible.</p></li>
<li><p>Make it clear that <code class="docutils literal notranslate"><span class="pre">--full-compat</span></code> should not be used in help
output.</p></li>
<li><p>Added instructions for MSVC runtimes and standalone compilation to
support Windows 7.</p></li>
<li><p>More complete listing of copyright holders for Debian.</p></li>
<li><p>Updated to newer black and PyLint.</p></li>
<li><p>Enhanced gcc version check, properly works with gcc 10 and higher.</p></li>
</ul>
</section>
<section id="tests">
<h2>Tests<a class="headerlink" href="#tests" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Pylint cleanups for some of the tests.</p></li>
<li><p>Added test for loading of user plugins.</p></li>
<li><p>Removed useless outputs for <code class="docutils literal notranslate"><span class="pre">search</span></code> mode skipping non-matches.</p></li>
</ul>
</section>
<section id="cleanups">
<h2>Cleanups<a class="headerlink" href="#cleanups" title="Permalink to this headline"></a></h2>
<ul class="simple">
<li><p>Limit command line handling for multiprocessing module to when the
plugin is actually used, avoiding useless code of Windows binaries.</p></li>
<li><p>Pylint cleanup also foreign code like <code class="docutils literal notranslate"><span class="pre">oset</span></code> and <code class="docutils literal notranslate"><span class="pre">odict</span></code>.</p></li>
<li><p>In preparation of deprecating the alternative, <code class="docutils literal notranslate"><span class="pre">--enable-plugin</span></code>
has become the only form used in documentation and tests.</p></li>
<li><p>Avoid numeric pylint symbols more often.</p></li>
<li><p>Distutils: Cleanup module name for distutils commands, these are not
actually enforced by distutils, but very ugly in our coding
conventions.</p></li>
<li><p>The “cannot get here” code to mark unreachable code has been improved
and no longer needs an identifier passed, but uses the standard C
mechanism for that.</p></li>
<li><p>Removed accessors for lookup sources from nodes, allowing for faster
usage and making sure, lookups are only done where needed.</p></li>
</ul>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline"></a></h2>
<p>This release is huge in terms of bugs fixed, but also extremely
important, because the new loop SSA and type tracing, allows for many
more specialized code usages. We now can trace the type for some loops
to be specifically an integer or long value only, and will become able
to generate code that avoids using Python objects, in these cases.</p>
<p>Once that happens, the performance will make a big jump. Future releases
will have to consolidate the current state, but it is expected that at
least an experimental addition of C type <code class="docutils literal notranslate"><span class="pre">float</span></code> or <code class="docutils literal notranslate"><span class="pre">C</span> <span class="pre">long</span></code> can be
added, add to that <code class="docutils literal notranslate"><span class="pre">iterator</span></code> type shape and value analsis, and an
actual jump in performance can be expected.</p>
</section>
</section>

<div class="section">
    

<div class="section">
  <span style="float: left">
     Previous:
    
    <a href="nuitka-release-067.html">
       Nuitka Release 0.6.7
    </a>
    
  </span>
  <span>&nbsp;</span>
  <span style="float: right">
     Next: 
    <a href="nuitka-release-069.html">
      Nuitka Release 0.6.9 
    </a>
    
  </span>
</div>
  
</div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Kay Hayen and Nuitka Contributors.</p>
  </div>

  
<div class='share-button-container'>
    <div class="socialbutton-wrapper">
        <a href="https://twitter.com/share?url=https://nuitka.net/posts/nuitka-release-068.html&hashtags=nuitka" target="_blank">
            <div class="socialbutton twitter" data-share-url="https://nuitka.net">
                <p class="icon">
                    <img src="/_static/icon-twitter.png">
                </p>

                <p class="shares">share...</p>
            </div>
        </a>

        <a href="https://www.facebook.com/sharer.php?u=https://nuitka.net/posts/nuitka-release-068.html&hashtag=%23nuitka"  target="_blank">
            <div class="socialbutton facebook" data-share-url="https://nuitka.net">
                <p class="icon">
                    <img src="/_static/icon-facebook.png">
                </p>

                <p class="shares">share...</p>
            </div>
        </a>

        <a href="http://www.reddit.com/submit?url=https://nuitka.net/posts/nuitka-release-068.html" target="_blank">
            <div class="socialbutton reddit">
                <p class="icon">
                    <img src="/_static/icon-reddit.png">
                </p>

                <p class="shares">share...</p>
            </div>
        </a>
    </div>
</div>

<script type="text/javascript">
    $(document).ready(function () {
      $('a[href^="http://"], a[href^="https://"]').not('a[class*=internal]').attr('target', '_blank');
    });
  </script>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-V73VK1T804"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-V73VK1T804', {
          'anonymize_ip': true,
      });
    </script> 

</body>
</html>