
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />    <link rel="icon" href="../../_static/favicon.svg" type="image/svg+xml">
    <link rel="icon" href="../../_static/favicon.png" sizes="32x32" type="image/png">
    <link rel="icon" href="../../_static/favicon.ico" sizes="32x32" type="image/x-icon">
    <link rel="icon" href="../../_static/apple-touch-icon-iphone.png" sizes="57x57" type="image/png">
    <link rel="icon" href="../../_static/apple-touch-icon-ipad.png" sizes="72x72" type="image/png">
    <link rel="icon" href="../../_static/apple-touch-icon-iphone4.png" sizes="114x114" type="image/png">
    <link rel="icon" href="../../_static/apple-touch-icon-ipad3.png" sizes="144x144" type="image/png">
    <link rel="apple-touch-icon" href="../../_static/apple-touch-icon-180x180.png" sizes="180x180" type="image/png">

    <title>Nuitka this week #3</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=84ace793992934648b4de8eed757e5a2" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/asciinema-player_2.6.1.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/asciinema-custom.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/my_theme.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/design-style.59c74d8c95b765a7fd995ac71d459ebe.min.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/tabs.js"></script>
    <script src="../../_static/asciinema-player_2.6.1.js"></script>
    <script src="../../_static/translations.js"></script>
    <script src="../../_static/design-tabs.js"></script>
    <script src="../../_static/sphinx-book-theme.9d8b4a8b9bb19db25eeaddc40d639ba2.js"></script>
    <link rel="canonical" href="https://daobook.github.io/nuitka-doc/posts/posts/nuitka-this-week-3.html" />
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" /> 
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="zh_CN">
    

    <!-- Google Analytics -->
     
<link
  rel="alternate"
  type="application/atom+xml"
  href="../../posts/atom.xml"
  title="Nuitka Blog"
/>
 
<style type="text/css">
  ul.ablog-archive {
    list-style: none;
    overflow: auto;
    margin-left: 0px;
  }
  ul.ablog-archive li {
    float: left;
    margin-right: 5px;
    font-size: 80%;
  }
  ul.postlist a {
    font-style: italic;
  }
  ul.postlist-style-disc {
    list-style-type: disc;
  }
  ul.postlist-style-none {
    list-style-type: none;
  }
  ul.postlist-style-circle {
    list-style-type: circle;
  }
</style>

  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<div class="col-12 col-md-3 bd-sidebar site-navigation " id="site-navigation">
    
          
<h2>
   
  11 August 2018 
</h2>

<ul>
   
<li id="author">
  <span
    >作者:</span
  >
   
  <a href="../author/kay-hayen.html">Kay Hayen</a>  
</li>
    
<li id="tags">
  <span
    >标签: </span
  >
   
  <a href="../tag/python.html">Python</a>   
  <a href="../tag/compiler.html">compiler</a>   
  <a href="../tag/nuitka.html">Nuitka</a>   
  <a href="../tag/ntw.html">NTW</a>  
</li>
 
</ul>

<h3>
  <a href="../../posts.html">最近帖子</a>
</h3>
<ul>
   
  <li>
    <a href="../next-nuitka-live-stream-30-01-2022.html"
      >30 January - Next Nuitka Live Stream</a
    >
  </li>
  
  <li>
    <a href="next-nuitka-live-stream-30-01-2022.html"
      >30 January - Next Nuitka Live Stream</a
    >
  </li>
  
  <li>
    <a href="../first-nuitka-live-stream.html"
      >14 January - First Nuitka Live Stream</a
    >
  </li>
  
  <li>
    <a href="first-nuitka-live-stream.html"
      >14 January - First Nuitka Live Stream</a
    >
  </li>
  
  <li>
    <a href="../nuitka-release-0619.html"
      >12 January - Nuitka Release 0.6.19</a
    >
  </li>
  
</ul>

<h3><a href="../tag.html">标签</a></h3>
<style type="text/css">
  ul.ablog-cloud {
    list-style: none;
    overflow: auto;
  }
  ul.ablog-cloud li {
    float: left;
    height: 20pt;
    line-height: 18pt;
    margin-right: 5px;
  }
  ul.ablog-cloud a {
    text-decoration: none;
    vertical-align: middle;
  }
  li.ablog-cloud-1 {
    font-size: 80%;
  }
  li.ablog-cloud-2 {
    font-size: 95%;
  }
  li.ablog-cloud-3 {
    font-size: 110%;
  }
  li.ablog-cloud-4 {
    font-size: 125%;
  }
  li.ablog-cloud-5 {
    font-size: 140%;
  }
</style>
<ul class="ablog-cloud">
   
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/android.html">Android</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/debian.html">Debian</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/ntw.html">NTW</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/nikola.html">Nikola</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-5">
    <a href="../tag/nuitka.html">Nuitka</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-5">
    <a href="../tag/python.html">Python</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/windows.html">Windows</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/automation.html">automation</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/benchmark.html">benchmark</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-4">
    <a href="../tag/compiler.html">compiler</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/conference.html">conference</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/europython.html">europython</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/family.html">family</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/git.html">git</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/gsoc2019.html">gsoc2019</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/physics.html">physics</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/portrait.html">portrait</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/presentation.html">presentation</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/pypi.html">pypi</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/pytest.html">pytest</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/quiz.html">quiz</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/standalone.html">standalone</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/tests.html">tests</a>
  </li>
    
  <li class="ablog-cloud ablog-cloud-1">
    <a href="../tag/video.html">video</a>
  </li>
   
</ul>

<h3>
  <a href="../archive.html">归档</a>
</h3>
<ul>
   
  <li>
    <a href="../2022.html">2022 (6)</a>
  </li>
    
  <li>
    <a href="../2021.html">2021 (16)</a>
  </li>
    
  <li>
    <a href="../2020.html">2020 (10)</a>
  </li>
    
  <li>
    <a href="../2019.html">2019 (28)</a>
  </li>
    
  <li>
    <a href="../2018.html">2018 (34)</a>
  </li>
    
  <li>
    <a href="../2017.html">2017 (8)</a>
  </li>
    
  <li>
    <a href="../2016.html">2016 (16)</a>
  </li>
    
  <li>
    <a href="../2015.html">2015 (32)</a>
  </li>
    
  <li>
    <a href="../2014.html">2014 (24)</a>
  </li>
    
  <li>
    <a href="../2013.html">2013 (48)</a>
  </li>
    
  <li>
    <a href="../2012.html">2012 (42)</a>
  </li>
    
  <li>
    <a href="../2011.html">2011 (50)</a>
  </li>
    
  <li>
    <a href="../2010.html">2010 (38)</a>
  </li>
   
</ul>

</div>


          


          
<!-- This is an invisible pixel that we watch to see if we've scrolled. -->
<div class="sbt-scroll-pixel-helper"></div>
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            <div class="topbar-left">
                
                <label class="nav-toggle-button" for="__navigation">
                    <div class="visually-hidden">切换导航</div>
                    <i class="fas fa-bars"></i>
                </label>
                
            </div>
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="下载此页面"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/"><button type="button"
                class="btn btn-secondary topbarbtn" title="下载源文件" data-toggle="tooltip"
                data-placement="left">.rst</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="列印成PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="全屏模式"
        title="全屏模式"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> 内容
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#new-series-rationale">
   New Series Rationale
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#twitter">
   Twitter
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#goto-generators">
   Goto Generators
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hotfixes">
   Hotfixes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plans">
   Plans
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Nuitka this week #3</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> 内容 </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#new-series-rationale">
   New Series Rationale
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#twitter">
   Twitter
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#goto-generators">
   Goto Generators
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#hotfixes">
   Hotfixes
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#plans">
   Plans
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                 <div class="section" id="nuitka-this-week-3">
<h1><a class="toc-backref" href="#id2">Nuitka this week #3</a><a class="headerlink" href="#nuitka-this-week-3" title="永久链接至标题">¶</a></h1>
<div class="contents topic" id="id1">
<p class="topic-title">目录</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nuitka-this-week-3" id="id2">Nuitka this week #3</a></p>
<ul>
<li><p><a class="reference internal" href="#new-series-rationale" id="id3">New Series Rationale</a></p></li>
<li><p><a class="reference internal" href="#twitter" id="id4">Twitter</a></p></li>
<li><p><a class="reference internal" href="#goto-generators" id="id5">Goto Generators</a></p></li>
<li><p><a class="reference internal" href="#hotfixes" id="id6">Hotfixes</a></p></li>
<li><p><a class="reference internal" href="#plans" id="id7">Plans</a></p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="new-series-rationale">
<h2><a class="toc-backref" href="#id3">New Series Rationale</a><a class="headerlink" href="#new-series-rationale" title="永久链接至标题">¶</a></h2>
<p>This is working out well so far. I think driving more attention at the
things that are going on can only be good. Also to explain will always
help. It also kind of motivates me a bit.</p>
</div>
<div class="section" id="twitter">
<h2><a class="toc-backref" href="#id4">Twitter</a><a class="headerlink" href="#twitter" title="永久链接至标题">¶</a></h2>
<p>Also as part of my communications offensive, I am using my Twitter
account more regularly. I used to highlight important fixes, or
occasionally releases of some importance there. I will continue to do
only important stuff there, but with more regularity.</p>
<p>And I noticed in the past, even when I do not post, followers makes me
happy. So here you go:</p>
<p><a class="reference external" href="https://twitter.com/kayhayen?ref_src=twsrc%5Etfw">Follow &#64;kayhayen</a></p>
</div>
<div class="section" id="goto-generators">
<h2><a class="toc-backref" href="#id5">Goto Generators</a><a class="headerlink" href="#goto-generators" title="永久链接至标题">¶</a></h2>
<p>This continues <a class="reference external" href="./nuitka-this-week-2.html#goto-generators">TWN #2</a>
where I promised to speak more of it, and this is the main focus of my
work on Nuitka right now.</p>
<p>Brief summary, context switches were how this was initially implemented.
The main reason being that for C++ there never was going to be a way to
save and restore state in the middle of an expression that involves
constructors and destructors.</p>
<p>Fast forward some years, and C-ish entered the picture. No objects are
used anymore, and Nuitka is purely C11 now, which has convenience of
C++, but no objects. Instead <code class="docutils literal notranslate"><span class="pre">goto</span></code> is used a lot already. So every
time an exception occurs, a <code class="docutils literal notranslate"><span class="pre">goto</span></code> is done, every time a branch is
done, a loop exit or continue, you get it, another <code class="docutils literal notranslate"><span class="pre">goto</span></code>.</p>
<p>But so far, all Python level variables of a frame live on that C stack
still, and the context switch is done with functions that swap stack.
That is fast, but the imporant drawback is that it takes more memory.
How deep of a stack will we need? And we can use really many, if you
imagine a pool of 1000 coroutines, that quickly become impossible to
deal with.</p>
<p>So, the new way of doing this basically goes like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">g</span><span class="p">():</span>
    <span class="k">yield</span> <span class="mi">1</span>
    <span class="k">yield</span> <span class="mi">2</span>
</pre></div>
</div>
<p>This was some far becoming something along this lines:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">PyObject</span><span class="w"> </span><span class="o">*</span><span class="nf">impl_g</span><span class="p">(</span><span class="w"> </span><span class="n">NuitkaGenerator</span><span class="w"> </span><span class="o">*</span><span class="n">generator</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="n">YIELD</span><span class="p">(</span><span class="w"> </span><span class="n">const_int_1</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="n">YIELD</span><span class="p">(</span><span class="w"> </span><span class="n">const_int_2</span><span class="w"> </span><span class="p">);</span><span class="w"></span>

<span class="w">     </span><span class="n">PyErr_SetException</span><span class="p">(</span><span class="w"> </span><span class="n">StopIteration</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">YIELD</span></code> in there was basically doing the switching of the stacks
and for the C code, it looked like a normal function call.</p>
<p>In the new approach, this is done:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">PyObject</span><span class="w"> </span><span class="o">*</span><span class="nf">impl_g</span><span class="p">(</span><span class="w"> </span><span class="n">NuitkaGenerator</span><span class="w"> </span><span class="o">*</span><span class="n">generator</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="k">switch</span><span class="p">(</span><span class="w"> </span><span class="n">generator</span><span class="o">-&gt;</span><span class="n">m_resume_point</span><span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">     </span><span class="p">{</span><span class="w"></span>
<span class="w">          </span><span class="k">case</span><span class="w"> </span><span class="mi">1</span><span class="o">:</span><span class="w"> </span><span class="k">goto</span><span class="w"> </span><span class="n">resume_1</span><span class="p">;</span><span class="w"></span>
<span class="w">          </span><span class="k">case</span><span class="w"> </span><span class="mi">2</span><span class="o">:</span><span class="w"> </span><span class="k">goto</span><span class="w"> </span><span class="n">resume_2</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="p">}</span><span class="w"></span>

<span class="w">     </span><span class="n">generator</span><span class="o">-&gt;</span><span class="n">m_yielded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">const_int_1</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="n">generator</span><span class="o">-&gt;</span><span class="n">resume_point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="nl">resume_1</span><span class="p">:</span><span class="w"></span>

<span class="w">     </span><span class="n">generator</span><span class="o">-&gt;</span><span class="n">m_yielded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">const_int_2</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="n">generator</span><span class="o">-&gt;</span><span class="n">resume_point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w"></span>
<span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="w"></span>
<span class="w">     </span><span class="nl">resume_2</span><span class="p">:</span><span class="w"></span>

<span class="w">     </span><span class="n">PyErr_SetException</span><span class="p">(</span><span class="w"> </span><span class="n">StopIteration</span><span class="w"> </span><span class="p">);</span><span class="w"></span>
<span class="w">     </span><span class="k">return</span><span class="w"> </span><span class="nb">NULL</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>As you can see, the function has an initial dispatcher. Resume point 0
means we are starting at the top. Then every <code class="docutils literal notranslate"><span class="pre">yield</span></code> results in a
function return with an updated resume point.</p>
<p>I experimented with this actually a long time ago, and experimental code
was the result that remained in Nuitka. The problem left to solve was to
store the variables that would normally live on the stack, in a heap
storage. That is what I am currently working on.</p>
<p>This leads me to “heap storage”, which is what I am currently working on
and will report on next week. Once that is there, goto generators can
work, and will become the norm. Until then, I am refactoring a lot to
get accesses to variable go through proper objects that know their
storage locations and types.</p>
</div>
<div class="section" id="hotfixes">
<h2><a class="toc-backref" href="#id6">Hotfixes</a><a class="headerlink" href="#hotfixes" title="永久链接至标题">¶</a></h2>
<p>So there have been 2 more hotfixes. One was to make the <code class="docutils literal notranslate"><span class="pre">enum</span></code> and
<code class="docutils literal notranslate"><span class="pre">__new__</span></code> compatibility available that I talked about last week in
<cite>TWN #2 &lt;./nuitka-this-week-2.html#python3-enumerators&gt;</cite> coupled with a
new minor things.</p>
<p>And then another one, actually important, where Python3
<code class="docutils literal notranslate"><span class="pre">__annotations__</span></code> by default was the empty dictionary, but then could
be modified, corrupting the Nuitka internally used one severely.</p>
<p>Right now I have on factory another fix for nested namespace packages in
Python3 and that might become another hotfix soon.</p>
<p>As you know, I am following the git flow model, where it’s easy to push
out small fixes, and just those, on top of the last release. I tend to
decide based on importance. However, I feel that with the important
fixes in the hotfixes now, it’s probably time to make a full release, to
be sure everybody gets those.</p>
</div>
<div class="section" id="plans">
<h2><a class="toc-backref" href="#id7">Plans</a><a class="headerlink" href="#plans" title="永久链接至标题">¶</a></h2>
<p>Finishing heap storage is my top priority right now and I hope to
complete the refactorings necessary in the coming week. I will also talk
about how it also enables C types work next week.</p>
<p>Until next week then!</p>
</div>
</div>

<div class="section">
    

<div class="section">
  <span style="float: left">
     上一页:
    
    <a href="../nuitka-this-week-3.html">
       Nuitka this week #3
    </a>
    
  </span>
  <span>&nbsp;</span>
  <span style="float: right">
     下一页: 
    <a href="../nuitka-this-week-4.html">
      Nuitka this week #4 
    </a>
    
  </span>
</div>
  
</div>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      通过 Kay Hayen<br/>
    
        &copy; 版权 2022, Kay Hayen and Nuitka Contributors.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>